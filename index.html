<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>化学基礎正誤チェック</title>
    <link href="https://fonts.googleapis.com/css2?family=Kiwi+Maru:wght@500&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-blue: #0077b6;
            --primary-green: #2a9d8f;
            --accent-yellow: #e9c46a;
            --bg-color: #f0f9ff;
            --text-color: #333;
        }

        body {
            font-family: 'Kiwi Maru', serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        .container {
            width: 90%;
            max-width: 500px;
            background: white;
            padding: 20px;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            text-align: center;
            border: 4px solid var(--primary-green);
        }

        header {
            margin-bottom: 20px;
        }

        h1 {
            color: var(--primary-blue);
            font-size: 1.5rem;
            margin: 0 0 10px 0;
        }

        .description {
            font-size: 0.9rem;
            background: var(--bg-color);
            padding: 10px;
            border-radius: 10px;
            line-height: 1.4;
        }

        #quiz-area {
            min-height: 250px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            cursor: pointer;
            padding: 20px;
            margin: 20px 0;
            border: 2px dashed #ccc;
            border-radius: 15px;
            transition: all 0.3s ease;
        }

        #quiz-area:active {
            transform: scale(0.98);
        }

        #question-text {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        #answer-area {
            display: none;
            padding: 15px;
            border-radius: 10px;
            background: var(--accent-yellow);
            animation: pop 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        @keyframes pop {
            0% { transform: scale(0.8); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }

        .answer-label {
            font-size: 0.8rem;
            display: block;
            margin-bottom: 5px;
        }

        #answer-text {
            font-size: 1.4rem;
            font-weight: bold;
            color: #d62828;
        }

        .btn-next {
            background: var(--primary-blue);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.1rem;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 4px 0 #005f8d;
            font-family: inherit;
            display: none;
            width: 100%;
        }

        .btn-next:active {
            box-shadow: none;
            transform: translateY(4px);
        }

        .progress {
            margin-top: 15px;
            font-size: 0.8rem;
            color: #888;
        }
    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>化学基礎正誤チェック</h1>
        <div class="description">（　）の語句が正しければ〇、間違っていれば正しい語句を考えよう！</div>
    </header>

    <div id="quiz-area" onclick="showAnswer()">
        <div id="question-text">読み込み中...</div>
        <div id="answer-area">
            <span class="answer-label">答え</span>
            <div id="answer-text"></div>
        </div>
    </div>

    <button id="next-btn" class="btn-next" onclick="nextQuestion()">次へ進む</button>
    
    <div class="progress" id="progress">0 / 0</div>
</div>

<script>
    // CSVデータから抽出した問題リスト
    const allQuestions = [
        {"q": "（酸素、水、塩化ナトリウム）はすべて純物質である。", "a": "〇"},
        {"q": "純物質の融点、沸点は一定だが、混合物の融点、沸点は（一定ではない）。", "a": "〇"},
        {"q": "混合物は、物理的方法で2種類以上の（純物質）に分けられる。", "a": "〇"},
        {"q": "（ろ過）でヨウ素と砂の混合物からヨウ素だけを取り出すことができる。", "a": "昇華法"},
        {"q": "塩化銀の沈殿を含む水溶液から、塩化銀だけを取り出すには（ろ過）を用いる。", "a": "〇"},
        {"q": "食塩水（溶液）から水（溶媒）だけを分離する際は（蒸留）を用いる。", "a": "〇"},
        {"q": "（蒸留）とは、2種類以上の液体の混合物を沸点の差を利用して各成分に分離する方法である。", "a": "分留"},
        {"q": "再結晶とは、不純物を含む結晶を溶媒に溶かしてから冷却し、純粋な（結晶）として取り出す方法である。", "a": "〇"},
        {"q": "再結晶は、（凝固点）の差を利用した分離方法である。", "a": "溶解度"},
        {"q": "（ヨウ素、二酸化炭素、ナフタレン）はどれも昇華しやすい気体である。", "a": "〇"},
        {"q": "溶媒への溶解性の違いを利用し、固体や液体の混合物から目的の物質を取り出す方法を（抽出法）という。", "a": "〇"},
        {"q": "ろ紙に対する吸着力の違いを利用して、色素などの混合物を分離する操作を(ペーパークロマトグラフィー)という。", "a": "〇"},
        {"q": "（元素）とは、物質を構成している基本的な成分のことである。", "a": "〇"},
        {"q": "（単体）とは、1種類の元素からなる純物質のことである。", "a": "〇"},
        {"q": "（化合物）とは、2種類以上の元素からなる純物質のことである。", "a": "〇"}
    ];

    let currentQuestions = [];
    let currentIndex = 0;

    // 初期化：問題をシャッフルして開始
    function initQuiz() {
        currentQuestions = [...allQuestions].sort(() => Math.random() - 0.5);
        currentIndex = 0;
        showQuestion();
    }

    // 問題を表示
    function showQuestion() {
        const q = currentQuestions[currentIndex];
        document.getElementById('question-text').innerText = q.q;
        document.getElementById('answer-text').innerText = q.a;
        document.getElementById('answer-area').style.display = 'none';
        document.getElementById('next-btn').style.display = 'none';
        document.getElementById('progress').innerText = `${currentIndex + 1} / ${currentQuestions.length}`;
    }

    // 答えを表示
    function showAnswer() {
        if (document.getElementById('answer-area').style.display === 'none') {
            document.getElementById('answer-area').style.display = 'block';
            document.getElementById('next-btn').style.display = 'block';
        }
    }

    // 次の問題へ
    function nextQuestion() {
        currentIndex++;
        if (currentIndex < currentQuestions.length) {
            showQuestion();
        } else {
            alert('全問終了です！最初に戻ります。');
            initQuiz();
        }
    }

    // 起動
    initQuiz();
</script>

</body>
</html>